(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{9365:function(t,e,n){Promise.resolve().then(n.bind(n,9953)),Promise.resolve().then(n.bind(n,1352)),Promise.resolve().then(n.bind(n,8009))},9416:function(t,e,n){"use strict";n.d(e,{gF:function(){return o},kZ:function(){return i},Ai:function(){return u},PJ:function(){return c},w$:function(){return s}});var r=n(2060);function o(t){return(0,r.Z)("/api/auth/forgot-password",{method:"POST",body:{email:t.email}})}function i(t){return(0,r.Z)("/api/auth/forgot-password/handle",{method:"POST",body:{token:t.token,password:t.password}})}function u(){return(0,r.Z)("/api/profile",{method:"GET",body:null})}function s(){return(0,r.Z)("/api/profile/verify",{method:"POST",body:{type:"SEND"}})}function c(t){let{email:e,token:n}=t;return(0,r.Z)("/api/profile/verify",{method:"POST",body:{type:"HANDLE",email:e,token:n}})}},2060:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var r=n(9079);let o=r.env.NEXT_PUBLIC_DAHBOARD_BASE_URL?"".concat(r.env.NEXT_PUBLIC_DAHBOARD_BASE_URL,"/"):"http://localhost:3000/";r.env.NEXT_PUBLIC_CHATFRONT_URL;var i=n(241);async function u(t,e){let n={method:e.method};return"GET"!==e.method&&(n={...n,body:JSON.stringify(e.body)}),fetch(t.startsWith("http")?t:t.startsWith("/")?"".concat(o).concat(t.slice(1)):"".concat(o).concat(t),n).then(t=>s(t))}async function s(t){return t.text().then(e=>{let n=null;try{n=e&&JSON.parse(e)}catch(t){console.log("ERROR IN HANDLE RESPONSE BROWSER: ",t)}if(!t.ok){let e=n||t;throw console.log("error from browser api: ",e),new i.H({message:e.errors[0].message,status:t.status,path:e.errors[0].path})}return n})}},9953:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return a}});var r=n(3827),o=n(4090),i=n(9416),u=n(1126),s=n(2544),c=n(6540);function a(t){var e;let{children:n}=t,[a,l]=(0,o.useState)("IDLE"),f=(0,u.useSession)({required:!0}),d=(0,c.a)({queryKey:["profile"],queryFn:i.Ai});return((0,o.useEffect)(()=>{"authenticated"!==f.status&&"loading"!==f.status&&(0,u.signOut)()},[f]),(0,o.useEffect)(()=>{d.isLoading||d.data||(0,u.signOut)()},[d.data,d.isLoading]),"loading"===f.status||d.isLoading)?(0,r.jsx)("div",{className:"flex items-center justify-center w-screen h-screen",children:(0,r.jsx)(s.Z,{})}):(null===(e=d.data)||void 0===e?void 0:e.isEmailVerified)?n:void 0}},1352:function(t,e,n){"use strict";n.r(e);var r=n(3827),o=n(7082),i=n(1126),u=n(4090),s=n(6676);e.default=t=>{let{children:e}=t,[n]=(0,u.useState)(s.E);return(0,r.jsxs)(o.aH,{client:n,children:[(0,r.jsx)(i.SessionProvider,{children:e}),!1]})}},2544:function(t,e,n){"use strict";var r=n(3827),o=n(6480),i=n.n(o);e.Z=t=>{let{size:e="small",color:n="none"}=t;return(0,r.jsx)("span",{className:i()("loading loading-spinner",u[e],s[n])})};let u={small:"loading-sm",medium:"loading-md",large:"loading-lg"},s={primary:"text-primary",secondary:"text-secondary",accent:"text-accent",neutral:"text-neutral",info:"text-info",success:"text-success",warning:"text-warning",error:"text-error",gray:"text-gray-300",none:""}},241:function(t,e,n){"use strict";n.d(e,{H:function(){return r}});class r extends Error{constructor({message:t,status:e,path:n}){super(t),this.message=t,this.status=e,this.path=n}}},9079:function(t,e,n){"use strict";var r,o;t.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(o=n.g.process)?void 0:o.env)?n.g.process:n(3127)},3127:function(t){"use strict";!function(){var e={229:function(t){var e,n,r,o=t.exports={};function i(){throw Error("setTimeout has not been defined")}function u(){throw Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:u}catch(t){n=u}}();var c=[],a=!1,l=-1;function f(){a&&r&&(a=!1,r.length?c=r.concat(c):l=-1,c.length&&d())}function d(){if(!a){var t=s(f);a=!0;for(var e=c.length;e;){for(r=c,c=[];++l<e;)r&&r[l].run();l=-1,e=c.length}r=null,a=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===u||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function h(){}o.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||a||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(t){return[]},o.binding=function(t){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}},u=!0;try{e[t](i,i.exports,r),u=!1}finally{u&&delete n[t]}return i.exports}r.ab="//";var o=r(229);t.exports=o}()},6676:function(t,e,n){"use strict";n.d(e,{E:function(){return r},z:function(){return o}});let r=new(n(6068)).S;function o(t){return r.invalidateQueries({queryKey:t})}},6480:function(t,e){"use strict";var n;!/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/function(){var r={}.hasOwnProperty;function o(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];n&&(t=i(t,function(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return o.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var n in t)r.call(t,n)&&t[n]&&(e=i(e,n));return e}(n)))}return t}function i(t,e){return e?t?t+" "+e:t+e:t}t.exports?(o.default=o,t.exports=o):void 0!==(n=(function(){return o}).apply(e,[]))&&(t.exports=n)}()}},function(t){t.O(0,[9,334,126,971,69,744],function(){return t(t.s=9365)}),_N_E=t.O()}]);