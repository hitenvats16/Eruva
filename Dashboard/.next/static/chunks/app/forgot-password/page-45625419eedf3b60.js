(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{1967:function(e,t,n){Promise.resolve().then(n.bind(n,8778))},9416:function(e,t,n){"use strict";n.d(t,{gF:function(){return s},kZ:function(){return a},Ai:function(){return l},PJ:function(){return i},w$:function(){return o}});var r=n(2060);function s(e){return(0,r.Z)("/api/auth/forgot-password",{method:"POST",body:{email:e.email}})}function a(e){return(0,r.Z)("/api/auth/forgot-password/handle",{method:"POST",body:{token:e.token,password:e.password}})}function l(){return(0,r.Z)("/api/profile",{method:"GET",body:null})}function o(){return(0,r.Z)("/api/profile/verify",{method:"POST",body:{type:"SEND"}})}function i(e){let{email:t,token:n}=e;return(0,r.Z)("/api/profile/verify",{method:"POST",body:{type:"HANDLE",email:t,token:n}})}},2060:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(9079);let s=r.env.NEXT_PUBLIC_DAHBOARD_BASE_URL?"".concat(r.env.NEXT_PUBLIC_DAHBOARD_BASE_URL,"/"):"http://localhost:3000/";r.env.NEXT_PUBLIC_CHATFRONT_URL;var a=n(241);async function l(e,t){let n={method:t.method};return"GET"!==t.method&&(n={...n,body:JSON.stringify(t.body)}),fetch(e.startsWith("http")?e:e.startsWith("/")?"".concat(s).concat(e.slice(1)):"".concat(s).concat(e),n).then(e=>o(e))}async function o(e){return e.text().then(t=>{let n=null;try{n=t&&JSON.parse(t)}catch(e){console.log("ERROR IN HANDLE RESPONSE BROWSER: ",e)}if(!e.ok){let t=n||e;throw console.log("error from browser api: ",t),new a.H({message:t.errors[0].message,status:e.status,path:t.errors[0].path})}return n})}},8778:function(e,t,n){"use strict";n.r(t);var r=n(3827),s=n(248),a=n(2670),l=n(1270),o=n(4090),i=n(7767),c=n(4734),u=n(9416),d=n(2235),m=n(9259);let f=s.z.object({email:s.z.string().min(1,{message:"Email is required"}).email({message:"Must be a valid email"})});t.default=()=>{var e;let[t,n]=(0,o.useState)("IDLE"),{register:s,handleSubmit:h,formState:{errors:p}}=(0,a.cI)({resolver:(0,l.F)(f)}),b=async e=>{if("IDLE"===t){n("LOADING");try{await (0,u.gF)({email:e.email}),n("SUCCESS")}catch(e){console.log(e),n("ERROR")}}};return(0,r.jsx)("section",{className:"grid w-screen h-screen bg-gray-100 place-items-center",children:(0,r.jsxs)("form",{className:"w-full max-w-md p-6 bg-white rounded-lg shadow-md",onSubmit:h(b),children:[(0,r.jsx)(i.Z.Field.Input,{label:"What's your email?",placeholder:"jonh@example.com",...s("email",{required:"Email is required"}),error:null===(e=p.email)||void 0===e?void 0:e.message,autoComplete:"username"}),(0,r.jsxs)(c.Z,{block:!0,className:"mt-2",loading:"LOADING"===t,state:"SUCCESS"===t?"success":"ERROR"===t?"error":"none",children:["IDLE"===t&&"Reset Password","ERROR"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{className:"w-5 h-5"}),"Some Error Occured"]}),"SUCCESS"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{className:"w-5 h-5"}),"Email Sent"]})]})]})})}},4734:function(e,t,n){"use strict";var r=n(3827),s=n(6480),a=n.n(s),l=n(8792),o=n(2544);t.Z=e=>{let{children:t,color:n="primary",size:s="medium",type:d="solid",state:m="none",wide:f=!1,href:h,outerLink:p,block:b,className:x,loading:g=!1,...w}=e,y=h?l.default:"button";return(0,r.jsxs)(y,{href:h,disabled:g,target:p&&"_blank",className:a()("relative overflow-hidden ease-in-out duration-200 transition-all",i[n],c[m],u[s],{"btn-outline":"outline"===d,"btn-wide":f,"btn-block":b,btn:!h,"opacity-50 cursor-not-allowed":g},x),...w,children:[t,(0,r.jsx)("div",{className:a()("absolute top-0 left-0 grid w-full h-full place-items-center cursor-not-allowed",i[n],c[m],{hidden:!g}),children:(0,r.jsx)(o.Z,{})})]})};let i={primary:"btn-primary",secondary:"btn-secondary",neutral:"btn-neutral",accent:"btn-accent",ghost:"btn-ghost",link:"btn-link",none:""},c={success:"btn-success text-white",error:"btn-error text-white",warning:"btn-warning",info:"btn-info",none:""},u={small:"btn-sm",medium:"",large:"btn-lg","extra-small":"btn-xs"}},7767:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(3827),s=n(6480),a=n.n(s),l=n(7841),o=n(1930),i=n(4090);let c=(0,i.forwardRef)((e,t)=>{let{label:n,error:s,className:l,name:o,disabled:c,size:d="input-md",type:m,helpText:f,...h}=e,[p,b]=(0,i.useState)(!1);return(0,r.jsxs)("div",{className:a()("w-full form-control",l),children:[(0,r.jsxs)("label",{className:"label",htmlFor:o,children:[n&&(0,r.jsx)("span",{className:"label-text",children:n}),f&&(0,r.jsx)("span",{className:"label-text-alt",children:f})]}),(0,r.jsxs)("div",{className:a()("w-full input input-bordered outline-none overflow-hidden flex items-center",d,{"border-red-500":s,"cursor-not-allowed opacity-75":c}),children:[(0,r.jsx)("input",{...h,name:o,disabled:c,type:"password"===m?p?"text":"password":m,ref:t,className:"w-full h-full autofill:bg-none bg-none"}),"password"===m&&(0,r.jsx)(u,{visible:!p,handler:()=>{b(!p)},className:"w-6 h-6 ml-2 text-gray-400 cursor-pointer"})]}),s&&(0,r.jsx)("label",{className:"label",htmlFor:o,children:(0,r.jsx)("span",{className:"text-red-500 label-text-alt",children:s})})]})});function u(e){let{visible:t,handler:n,className:s}=e;return t?(0,r.jsx)(l.Z,{className:s,onClick:n}):(0,r.jsx)(o.Z,{className:s,onClick:n})}c.displayName="Input Field";var d={Field:{Input:c}}},2544:function(e,t,n){"use strict";var r=n(3827),s=n(6480),a=n.n(s);t.Z=e=>{let{size:t="small",color:n="none"}=e;return(0,r.jsx)("span",{className:a()("loading loading-spinner",l[t],o[n])})};let l={small:"loading-sm",medium:"loading-md",large:"loading-lg"},o={primary:"text-primary",secondary:"text-secondary",accent:"text-accent",neutral:"text-neutral",info:"text-info",success:"text-success",warning:"text-warning",error:"text-error",gray:"text-gray-300",none:""}},241:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});class r extends Error{constructor({message:e,status:t,path:n}){super(e),this.message=e,this.status=t,this.path=n}}},9259:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(7461).Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},2235:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[250,578,971,69,744],function(){return e(e.s=1967)}),_N_E=e.O()}]);