(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[254],{6308:function(e,t,s){Promise.resolve().then(s.bind(s,3639))},9416:function(e,t,s){"use strict";s.d(t,{gF:function(){return n},kZ:function(){return o},Ai:function(){return a},PJ:function(){return i},w$:function(){return l}});var r=s(2060);function n(e){return(0,r.Z)("/api/auth/forgot-password",{method:"POST",body:{email:e.email}})}function o(e){return(0,r.Z)("/api/auth/forgot-password/handle",{method:"POST",body:{token:e.token,password:e.password}})}function a(){return(0,r.Z)("/api/profile",{method:"GET",body:null})}function l(){return(0,r.Z)("/api/profile/verify",{method:"POST",body:{type:"SEND"}})}function i(e){let{email:t,token:s}=e;return(0,r.Z)("/api/profile/verify",{method:"POST",body:{type:"HANDLE",email:t,token:s}})}},2060:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(9079);let n=r.env.NEXT_PUBLIC_DAHBOARD_BASE_URL?"".concat(r.env.NEXT_PUBLIC_DAHBOARD_BASE_URL,"/"):"http://localhost:3000/";r.env.NEXT_PUBLIC_CHATFRONT_URL;var o=s(241);async function a(e,t){let s={method:t.method};return"GET"!==t.method&&(s={...s,body:JSON.stringify(t.body)}),fetch(e.startsWith("http")?e:e.startsWith("/")?"".concat(n).concat(e.slice(1)):"".concat(n).concat(e),s).then(e=>l(e))}async function l(e){return e.text().then(t=>{let s=null;try{s=t&&JSON.parse(t)}catch(e){console.log("ERROR IN HANDLE RESPONSE BROWSER: ",e)}if(!e.ok){let t=s||e;throw console.log("error from browser api: ",t),new o.H({message:t.errors[0].message,status:e.status,path:t.errors[0].path})}return s})}},3639:function(e,t,s){"use strict";s.r(t);var r=s(3827),n=s(248),o=s(2670),a=s(1270),l=s(4090),i=s(7907),c=s(2235),d=s(9259),u=s(7767),m=s(4734),h=s(9416),f=s(241);let p=n.z.object({password:n.z.string().regex(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[!@#$%^&*()])[A-Za-z\d!@#$%^&*()]{8,}$/,"Password is invalid"),confirmPassword:n.z.string().regex(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[!@#$%^&*()])[A-Za-z\d!@#$%^&*()]{8,}$/,"Password is invalid")}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Password don't match"});t.default=()=>{var e,t;let s=(0,i.useRouter)(),[n,w]=(0,l.useState)(!1),[x,b]=(0,l.useState)("IDLE"),g=(0,i.useSearchParams)(),{register:y,handleSubmit:N,formState:{errors:j}}=(0,o.cI)({resolver:(0,a.F)(p)}),v=g.get("email"),S=g.get("token"),E=async e=>{if("IDLE"===x){b("LOADING");try{await (0,h.kZ)({password:e.confirmPassword,token:S}),s.push("/login"),b("SUCCESS")}catch(e){console.log(e),e instanceof f.H&&console.log(e.status),b("ERROR")}}};return v&&S||(0,i.notFound)(),(0,r.jsxs)("section",{className:"grid w-screen h-screen bg-gray-100 place-items-center",children:[(0,r.jsxs)("form",{className:"w-full max-w-md p-6 bg-white rounded-lg shadow-md",onSubmit:N(E),children:[(0,r.jsx)(u.Z.Field.Input,{label:"What's your password?",type:"password",className:"mt-2",placeholder:"••••••••",...y("password",{required:"Pasword is required"}),autoComplete:"current-password",error:null===(e=j.password)||void 0===e?void 0:e.message,onFocus:()=>{w(!0)}}),(0,r.jsx)(u.Z.Field.Input,{label:"Confirm your password.",type:"password",className:"mt-2",placeholder:"••••••••",...y("confirmPassword",{required:"Confirm you password before sign up."}),autoComplete:"confirm-password",error:null===(t=j.confirmPassword)||void 0===t?void 0:t.message,onFocus:()=>{w(!0)}}),(0,r.jsxs)(m.Z,{block:!0,className:"mt-2",loading:"LOADING"===x,state:"SUCCESS"===x?"success":"ERROR"===x?"error":"none",children:["IDLE"===x&&"Reset Password","ERROR"===x&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{className:"w-5 h-5"}),"Some Error Occured"]}),"SUCCESS"===x&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{className:"w-5 h-5"}),"Done"]})]})]}),n&&(0,r.jsx)("div",{className:"toast toast-end card",children:(0,r.jsxs)("div",{className:"rounded-lg shadow-lg card-body",children:[(0,r.jsx)("div",{className:"justify-end card-actions",children:(0,r.jsx)(m.Z,{size:"extra-small",color:"none",className:"btn-square",onClick:()=>{w(!1)},children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 bg-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"mb-2 font-bold",children:["Remember! Your password must have following:"," "]}),(0,r.jsxs)("ul",{className:"pl-5 text-xs list-disc",children:[(0,r.jsx)("li",{children:"At least 8 characters long."}),(0,r.jsx)("li",{children:"At least one upparecase letter."}),(0,r.jsx)("li",{children:"At least one lowercase letter."}),(0,r.jsx)("li",{children:"At least one digit."}),(0,r.jsx)("li",{children:"At least one special character from the set: !@#$%^&*"})]})]})]})})]})}},4734:function(e,t,s){"use strict";var r=s(3827),n=s(6480),o=s.n(n),a=s(8792),l=s(2544);t.Z=e=>{let{children:t,color:s="primary",size:n="medium",type:u="solid",state:m="none",wide:h=!1,href:f,outerLink:p,block:w,className:x,loading:b=!1,...g}=e,y=f?a.default:"button";return(0,r.jsxs)(y,{href:f,disabled:b,target:p&&"_blank",className:o()("relative overflow-hidden ease-in-out duration-200 transition-all",i[s],c[m],d[n],{"btn-outline":"outline"===u,"btn-wide":h,"btn-block":w,btn:!f,"opacity-50 cursor-not-allowed":b},x),...g,children:[t,(0,r.jsx)("div",{className:o()("absolute top-0 left-0 grid w-full h-full place-items-center cursor-not-allowed",i[s],c[m],{hidden:!b}),children:(0,r.jsx)(l.Z,{})})]})};let i={primary:"btn-primary",secondary:"btn-secondary",neutral:"btn-neutral",accent:"btn-accent",ghost:"btn-ghost",link:"btn-link",none:""},c={success:"btn-success text-white",error:"btn-error text-white",warning:"btn-warning",info:"btn-info",none:""},d={small:"btn-sm",medium:"",large:"btn-lg","extra-small":"btn-xs"}},7767:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});var r=s(3827),n=s(6480),o=s.n(n),a=s(7841),l=s(1930),i=s(4090);let c=(0,i.forwardRef)((e,t)=>{let{label:s,error:n,className:a,name:l,disabled:c,size:u="input-md",type:m,helpText:h,...f}=e,[p,w]=(0,i.useState)(!1);return(0,r.jsxs)("div",{className:o()("w-full form-control",a),children:[(0,r.jsxs)("label",{className:"label",htmlFor:l,children:[s&&(0,r.jsx)("span",{className:"label-text",children:s}),h&&(0,r.jsx)("span",{className:"label-text-alt",children:h})]}),(0,r.jsxs)("div",{className:o()("w-full input input-bordered outline-none overflow-hidden flex items-center",u,{"border-red-500":n,"cursor-not-allowed opacity-75":c}),children:[(0,r.jsx)("input",{...f,name:l,disabled:c,type:"password"===m?p?"text":"password":m,ref:t,className:"w-full h-full autofill:bg-none bg-none"}),"password"===m&&(0,r.jsx)(d,{visible:!p,handler:()=>{w(!p)},className:"w-6 h-6 ml-2 text-gray-400 cursor-pointer"})]}),n&&(0,r.jsx)("label",{className:"label",htmlFor:l,children:(0,r.jsx)("span",{className:"text-red-500 label-text-alt",children:n})})]})});function d(e){let{visible:t,handler:s,className:n}=e;return t?(0,r.jsx)(a.Z,{className:n,onClick:s}):(0,r.jsx)(l.Z,{className:n,onClick:s})}c.displayName="Input Field";var u={Field:{Input:c}}},2544:function(e,t,s){"use strict";var r=s(3827),n=s(6480),o=s.n(n);t.Z=e=>{let{size:t="small",color:s="none"}=e;return(0,r.jsx)("span",{className:o()("loading loading-spinner",a[t],l[s])})};let a={small:"loading-sm",medium:"loading-md",large:"loading-lg"},l={primary:"text-primary",secondary:"text-secondary",accent:"text-accent",neutral:"text-neutral",info:"text-info",success:"text-success",warning:"text-warning",error:"text-error",gray:"text-gray-300",none:""}},241:function(e,t,s){"use strict";s.d(t,{H:function(){return r}});class r extends Error{constructor({message:e,status:t,path:s}){super(e),this.message=e,this.status=t,this.path=s}}},9259:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(7461).Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},2235:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7907:function(e,t,s){"use strict";var r=s(5313);s.o(r,"notFound")&&s.d(t,{notFound:function(){return r.notFound}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[250,578,971,69,744],function(){return e(e.s=6308)}),_N_E=e.O()}]);