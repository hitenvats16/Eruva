(()=>{var e={};e.id=702,e.ids=[702],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},21911:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var a=s(50482),r=s(69108),n=s(62563),i=s.n(n),o=s(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,14078)),"/Users/tejas/Documents/Eruva/Dashboard/app/dashboard/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,12430)),"/Users/tejas/Documents/Eruva/Dashboard/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,82917)),"/Users/tejas/Documents/Eruva/Dashboard/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/tejas/Documents/Eruva/Dashboard/app/dashboard/page.tsx"],u="/dashboard/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},21668:(e,t,s)=>{Promise.resolve().then(s.bind(s,66900))},80161:(e,t,s)=>{"use strict";s.d(t,{K1:()=>o,Yu:()=>n,gq:()=>r,jU:()=>i,sH:()=>l});var a=s(99707);let r=()=>(0,a.Z)("/api/organisation",{method:"GET",body:null}),n=e=>(0,a.Z)("/api/organisation",{method:"POST",body:e}),i=e=>(0,a.Z)(`/api/organisation/${e}`,{method:"GET",body:null}),o=(e,t)=>(0,a.Z)(`/api/organisation/${e}`,{method:"PUT",body:t}),l=e=>(0,a.Z)(`/api/organisation/${e}`,{method:"DELETE",body:null})},51962:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var a=s(95344),r=s(3729),n=s(14513),i=s(62312),o=s(29709),l=s(60708),c=s(85453),d=s(80161),u=s(56975),h=s(5034),m=s(29698),x=s(38010);let g=o.z.object({name:o.z.string().min(1,"Name must have one character").max(200,"Name is too long")});function p({active:e,visibilityDispatcher:t,type:s,prevValues:o,orgId:p}){let f,y,j=null;switch(s){case"CREATE":j="Create New Organisation",y=d.Yu;break;case"UPDATE":j="Update Organisation Details",y=e=>{if(p)return(0,d.K1)(p,e);throw Error("org id must be provided")},f=o}let[b,v]=(0,r.useState)("IDLE"),{register:w,handleSubmit:E,formState:{errors:N},reset:C}=(0,l.cI)({resolver:(0,c.F)(g),defaultValues:f}),Z=async e=>{try{v("LOADING"),await y(e),v("SUCCESS"),"CREATE"===s?(0,u.z)(["organisations"]):(0,u.z)(["organisation",p]),t(!1),C(),setTimeout(()=>{v("IDLE")},1e3)}catch(e){v("ERROR")}};return a.jsx(h.Z,{onClose:()=>{t(!1)},active:e,title:j,children:(0,a.jsxs)("form",{onSubmit:E(Z),children:[a.jsx(m.Z.Field.Input,{label:"CREATE"===s?"What's the name?":"What's the new name?",...w("name"),error:N.name?.message}),(0,a.jsxs)(x.Z,{block:!0,className:"mt-5",loading:"LOADING"===b,state:"ERROR"===b?"error":"SUCCESS"===b?"success":"none",children:["IDLE"===b&&"Create","ERROR"===b&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(n.Z,{className:"w-4 h-4"}),"Some Error Occured"]}),"SUCCESS"===b&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.Z,{className:"w-4 h-4"}),"Done"]})]})]})})}},66900:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var a=s(95344),r=s(47674);let n=(0,s(69224).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var i=s(72187),o=s(42496),l=s(38010),c=s(19656),d=s(3027),u=s(3729),h=s(89410),m=s(34132),x=s.n(m),g=s(56506),p=s(30885),f=s(51838),y=s(80161),j=s(15764),b=s(51962);let v={src:"/_next/static/media/organisation.880737f8.svg",height:64,width:64,blurWidth:0,blurHeight:0},w=function(){let e=(0,i.a)({queryKey:["organisations"],queryFn:y.gq,refetchOnWindowFocus:!1}),[t,s]=(0,u.useState)(!1),r=e.isLoading||e.isFetching;return(0,u.useEffect)(()=>{p.ZP.fromTo(".orgCards",{yPercent:50,opacity:0},{yPercent:0,stagger:.05,delay:.1,opacity:1,ease:"elastic.out(1,0.3)"})},[e.data,r]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"h-screen p-5 mt-4 overflow-scroll bg-white rounded-lg max-h-container",children:[e.data?.length===0&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full gap-3",children:[a.jsx(o.Z.Content,{boldness:600,size:"sm",className:"text-gray-400",children:"You don't have any active organisation."}),(0,a.jsxs)(l.Z,{size:"small",className:"text-white",onClick:()=>{s(!0)},children:["Create ",a.jsx(f.Z,{className:"w-5 h-5"})]})]}),r&&a.jsx("div",{className:"flex flex-col items-center justify-center w-full h-full gap-3",children:a.jsx(j.Z,{color:"gray",size:"medium"})}),!r&&e.data?.length!==0&&(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-5",children:[e.data?.map(e=>a.jsx(E,{organisation:e},e.id)),a.jsx("div",{className:"flex flex-col items-center justify-center w-full h-full duration-150 ease-in-out rounded-lg bg-gray-50/60 hover:bg-gray-100/80 aspect-square orgCards",style:{opacity:0},children:a.jsx(l.Z,{color:"none",className:"bg-gray-600 btn-circle",onClick:()=>{s(!0)},children:a.jsx(f.Z,{className:"w-5 h-5 text-white text-bold"})})})]})]}),a.jsx(b.Z,{type:"CREATE",active:t,visibilityDispatcher:s})]})};function E({organisation:e}){return a.jsx(g.default,{href:`/dashboard/organisation/${e.id}`,children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full p-5 duration-150 ease-in-out border rounded-lg cursor-pointer aspect-square hover:shadow-md orgCards",style:{opacity:0},children:[a.jsx(h.default,{src:e.logo||v,width:64,height:64,alt:"org_logo",className:x()("w-16 h-16 mb-2",{"rounded-2xl":e.logo})}),a.jsx(o.Z.Heading,{size:"base",fontFamily:"manrope",variant:"h4",boldness:700,className:"text-center text-slate-950",children:e.name})]})})}let N=()=>{let e=(0,i.a)({queryKey:["profile"],queryFn:c.Ai});return a.jsx(d.Z,{loading:e.isLoading||e.isFetching,children:a.jsx("section",{className:"grid w-screen h-screen bg-slate-50 place-items-center",children:(0,a.jsxs)("div",{className:"w-full max-w-container",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between w-full",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(o.Z.Heading,{size:"3xl",boldness:700,fontFamily:"manrope",variant:"h1",className:"text-slate-700",children:["Hello",", ",a.jsx("span",{className:"text-5xl font-bold text-black",children:e.data?.name})]}),a.jsx(o.Z.Content,{size:"sm",className:"mt-4 text-slate-500",children:"Select or Create an organization from the given list."})]}),a.jsx("div",{className:"flex gap-2",children:(0,a.jsxs)(l.Z,{color:"none",state:"error",onClick:()=>{(0,r.signOut)()},children:["Logout",a.jsx(n,{className:"w-4 h-4"})]})})]}),a.jsx(w,{})]})})})}},14078:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(25036);let r=(0,s(86843).createProxy)(String.raw`/Users/tejas/Documents/Eruva/Dashboard/containers/Home/index.tsx`),{__esModule:n,$$typeof:i}=r,o=r.default;async function l(){return a.jsx(o,{})}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,168,337,476,139,674,984,237,569,863],()=>s(21911));module.exports=a})();