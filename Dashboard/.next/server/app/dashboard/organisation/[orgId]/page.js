(()=>{var e={};e.id=418,e.ids=[418],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},81685:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=a(50482),r=a(69108),n=a(62563),i=a.n(n),o=a(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let c=["",{children:["dashboard",{children:["organisation",{children:["[orgId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,29927)),"/Users/tejas/Documents/Eruva/Dashboard/app/dashboard/organisation/[orgId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,12430)),"/Users/tejas/Documents/Eruva/Dashboard/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,82917)),"/Users/tejas/Documents/Eruva/Dashboard/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/tejas/Documents/Eruva/Dashboard/app/dashboard/organisation/[orgId]/page.tsx"],h="/dashboard/organisation/[orgId]/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/organisation/[orgId]/page",pathname:"/dashboard/organisation/[orgId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},71600:(e,t,a)=>{Promise.resolve().then(a.bind(a,11916))},22933:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n,ED:()=>r,Xi:()=>l,l2:()=>o,o8:()=>i});var s=a(99707);function r({orgId:e}){return(0,s.Z)(`/api/organisation/${e}/chatbot`,{method:"GET",body:null})}function n({orgId:e,payload:t}){return(0,s.Z)(`/api/organisation/${e}/chatbot`,{method:"POST",body:t})}function i({orgId:e,chatbotId:t}){return(0,s.Z)(`/api/organisation/${e}/chatbot/${t}`,{method:"GET",body:null})}function o({orgId:e,chatbotId:t,payload:a}){return(0,s.Z)(`/api/organisation/${e}/chatbot/${t}`,{method:"PUT",body:a})}function l({orgId:e,chatbotId:t}){return(0,s.Z)(`/api/organisation/${e}/chatbot/${t}`,{method:"DELETE",body:null})}},80161:(e,t,a)=>{"use strict";a.d(t,{K1:()=>o,Yu:()=>n,gq:()=>r,jU:()=>i,sH:()=>l});var s=a(99707);let r=()=>(0,s.Z)("/api/organisation",{method:"GET",body:null}),n=e=>(0,s.Z)("/api/organisation",{method:"POST",body:e}),i=e=>(0,s.Z)(`/api/organisation/${e}`,{method:"GET",body:null}),o=(e,t)=>(0,s.Z)(`/api/organisation/${e}`,{method:"PUT",body:t}),l=e=>(0,s.Z)(`/api/organisation/${e}`,{method:"DELETE",body:null})},35641:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var s=a(95344),r=a(3729),n=a(5034),i=a(42496),o=a(29698),l=a(38010),c=a(38271);let d=function({onConfirm:e,title:t,matcher:a,text:d,active:h,visibilityDispatcher:u}){let[m,x]=(0,r.useState)(!1),[g,p]=(0,r.useState)(!1),b=async()=>{try{p(!0),await e(),u(!1),p(!1)}catch(e){console.log("error from delete comfirmation is ",e)}};return(0,s.jsxs)(n.Z,{active:h,onClose:()=>{u(!1)},title:t,children:[d&&(0,s.jsxs)(i.Z.Content,{fontFamily:"manrope",size:"sm",className:"my-2 text-red-500",children:["* ",d]}),(0,s.jsxs)(i.Z.Content,{fontFamily:"manrope",size:"sm",className:"mb-3 text-slate-800",children:["Type"," ",s.jsx("code",{className:"px-1 py-0.5 font-black text-black bg-gray-200",children:a})," ","in the field below to continue."]}),s.jsx(o.Z.Field.Input,{placeholder:a,onChange:e=>{e.target.value===a?x(!0):x(!1)}}),(0,s.jsxs)(l.Z,{block:!0,className:"mt-2 btn-error",state:"error",loading:g,disabled:!m,onClick:b,children:[s.jsx(c.Z,{className:"w-4 h-4"}),"Delete"]})]})}},51962:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var s=a(95344),r=a(3729),n=a(14513),i=a(62312),o=a(29709),l=a(60708),c=a(85453),d=a(80161),h=a(56975),u=a(5034),m=a(29698),x=a(38010);let g=o.z.object({name:o.z.string().min(1,"Name must have one character").max(200,"Name is too long")});function p({active:e,visibilityDispatcher:t,type:a,prevValues:o,orgId:p}){let b,y,j=null;switch(a){case"CREATE":j="Create New Organisation",y=d.Yu;break;case"UPDATE":j="Update Organisation Details",y=e=>{if(p)return(0,d.K1)(p,e);throw Error("org id must be provided")},b=o}let[v,f]=(0,r.useState)("IDLE"),{register:E,handleSubmit:Z,formState:{errors:w},reset:C}=(0,l.cI)({resolver:(0,c.F)(g),defaultValues:b}),N=async e=>{try{f("LOADING"),await y(e),f("SUCCESS"),"CREATE"===a?(0,h.z)(["organisations"]):(0,h.z)(["organisation",p]),t(!1),C(),setTimeout(()=>{f("IDLE")},1e3)}catch(e){f("ERROR")}};return s.jsx(u.Z,{onClose:()=>{t(!1)},active:e,title:j,children:(0,s.jsxs)("form",{onSubmit:Z(N),children:[s.jsx(m.Z.Field.Input,{label:"CREATE"===a?"What's the name?":"What's the new name?",...E("name"),error:w.name?.message}),(0,s.jsxs)(x.Z,{block:!0,className:"mt-5",loading:"LOADING"===v,state:"ERROR"===v?"error":"SUCCESS"===v?"success":"none",children:["IDLE"===v&&"Create","ERROR"===v&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.Z,{className:"w-4 h-4"}),"Some Error Occured"]}),"SUCCESS"===v&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(i.Z,{className:"w-4 h-4"}),"Done"]})]})]})})}},11916:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var s=a(95344);let r=(0,a(69224).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);var n=a(38271),i=a(63024),o=a(3729),l=a(8428),c=a(72187),d=a(38010),h=a(42496),u=a(3027),m=a(80161),x=a(51962),g=a(89410),p=a(34132),b=a.n(p),y=a(56506),j=a(30885),v=a(51838),f=a(15764),E=a(22933);let Z={src:"/_next/static/media/chatbot.05d240e9.png",height:728,width:723,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAyUlEQVR42hWOzQoBURiGv9uShSR3wUIsXcAsFRuxQ5lSSNQw8rdAJFFGopmtskNjzMoc5hgzzvGpZ/E+z+oFzrn3ZcudU2hZCA5UjOB6rNy2IUrSlScCEYKKEWabN8QtaUL36vGgHttTivqPQpGUZWelaP5w0BcKrBVVlB2hQCCZI6czb9ZLEEsgjWoJNZknMFhQoWgvV5rcH0ndobLVsjW7N6fguiwlvsTO43o533RdGluZyuvjMsBn1OGGaRmGbprG7U7om3HOf2iZkUsdHo/zAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8};var w=a(14513),C=a(62312),N=a(29709),A=a(60708),S=a(56975),D=a(85453),R=a(5034),I=a(29698);let U=N.z.object({name:N.z.string().min(1,"Name must have one character").max(50,"Name is too long")}),k=function({active:e,visibilityDispatcher:t,orgId:a,type:r="CREATE"}){let[n,i]=(0,o.useState)("IDLE"),{register:l,handleSubmit:c,formState:{errors:h},reset:u}=(0,A.cI)({resolver:(0,D.F)(U)}),m=async e=>{if(a)try{i("LOADING"),await (0,E.Ay)({orgId:a,payload:e}),i("SUCCESS"),(0,S.z)(["organisation",a,"chatbots"]),t(!1),u(),setTimeout(()=>{i("IDLE")},1e3)}catch(e){i("ERROR")}};return s.jsx(R.Z,{onClose:()=>{t(!1)},active:e,title:"Create new Chatbot",children:(0,s.jsxs)("form",{onSubmit:c(m),children:[s.jsx(I.Z.Field.Input,{label:"What's the name?",...l("name"),error:h.name?.message}),(0,s.jsxs)(d.Z,{block:!0,className:"mt-5",loading:"LOADING"===n,state:"ERROR"===n?"error":"SUCCESS"===n?"success":"none",children:["IDLE"===n&&"Create","ERROR"===n&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(w.Z,{className:"w-4 h-4"}),"Some Error Occured"]}),"SUCCESS"===n&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(C.Z,{className:"w-4 h-4"}),"Done"]})]})]})})};function P({orgId:e}){let t=(0,c.a)({queryKey:["organisation",e,"chatbots"],queryFn:()=>(0,E.ED)({orgId:e}),refetchOnWindowFocus:!1}),a=t.isLoading||t.isFetching,[r,n]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{j.ZP.fromTo(".chatbotCards",{yPercent:50,opacity:0},{yPercent:0,stagger:.05,delay:.3,opacity:1,ease:"elastic.out(1,0.3)"})},[t.data,a]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"h-screen p-5 mt-4 overflow-scroll bg-white rounded-lg max-h-container",children:[t.data?.length===0&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full gap-3",children:[s.jsx(h.Z.Content,{boldness:600,size:"sm",className:"text-gray-400",children:"You don't have any chatbots."}),(0,s.jsxs)(d.Z,{size:"small",className:"text-white",onClick:()=>{n(!0)},children:["Create ",s.jsx(v.Z,{className:"w-5 h-5"})]})]}),a&&s.jsx("div",{className:"flex flex-col items-center justify-center w-full h-full gap-3",children:s.jsx(f.Z,{color:"gray",size:"medium"})}),!a&&t.data?.length!==0&&(0,s.jsxs)("div",{className:"grid grid-cols-5 gap-5",children:[t.data?.map(t=>s.jsx(O,{chatbot:t,orgId:e},t.id)),s.jsx("div",{className:"flex flex-col items-center justify-center w-full h-full duration-150 ease-in-out rounded-lg bg-gray-50/60 hover:bg-gray-100/80 aspect-square chatbotCards",style:{opacity:0},children:s.jsx(d.Z,{color:"none",className:"bg-gray-600 btn-circle",onClick:()=>{n(!0)},children:s.jsx(v.Z,{className:"w-5 h-5 text-white text-bold"})})})]})]}),s.jsx(k,{active:r,visibilityDispatcher:n,type:"CREATE",orgId:e})]})}function O({chatbot:e,orgId:t}){return s.jsx(y.default,{href:`/dashboard/organisation/${t}/chatbot/${e.id}`,children:(0,s.jsxs)("div",{className:b()("flex relative flex-col overflow-hidden items-center justify-center w-full h-full duration-150 ease-in-out border-2 rounded-lg cursor-pointer aspect-square hover:shadow-md chatbotCards",{"border-primary":e.active,"border-gray-200":!e.active}),style:{opacity:0},children:[s.jsx(g.default,{src:Z,width:64,height:64,alt:"org_logo",className:b()("w-16 h-16 mb-2")}),s.jsx(h.Z.Heading,{size:"base",fontFamily:"manrope",variant:"h4",boldness:700,className:"text-slate-950",children:e.name}),s.jsx("span",{className:b()("px-2 py-1 rounded-bl-lg absolute top-0 right-0",{"bg-primary text-white":e.active,"bg-gray-200 text-slate-950":!e.active}),children:s.jsx(h.Z.Content,{size:"xxs",boldness:700,fontFamily:"manrope",children:e.active?"Active":"Disabled"})})]})})}var z=a(35641);let F=function({orgId:e}){let t=(0,l.useRouter)(),a=(0,c.a)({queryKey:["organisation",e],queryFn:()=>(0,m.jU)(e)}),g=a.isLoading||a.isFetching,[p,b]=(0,o.useState)(!1),[y,j]=(0,o.useState)(!1),v=async()=>{await (0,m.sH)(e),(0,S.z)(["organisations"]),t.back()};return(0,s.jsxs)(u.Z,{loading:g,error:a.error&&a.isError&&!g,children:[s.jsx("section",{className:"grid w-screen h-screen bg-slate-50 place-items-center",children:(0,s.jsxs)("div",{className:"w-full max-w-container",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between w-full",children:[(0,s.jsxs)("div",{children:[s.jsx(h.Z.Heading,{size:"5xl",boldness:700,fontFamily:"manrope",variant:"h1",className:"text-slate-950",children:a.data?.name}),s.jsx(h.Z.Content,{size:"sm",className:"mt-4 text-slate-500",children:"Select or Create a chatbot from the given list."})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(d.Z,{color:"ghost",onClick:()=>{b(!0)},children:["Edit Details",s.jsx(r,{className:"w-4 h-4"})]}),(0,s.jsxs)(d.Z,{color:"none",state:"error",onClick:()=>{j(!0)},children:["Delete ",s.jsx(n.Z,{className:"w-3 h-3"})]})]})]}),s.jsx(P,{orgId:e}),s.jsx("div",{className:"w-full mt-5",children:(0,s.jsxs)(d.Z,{color:"none",onClick:()=>{t.push("/dashboard")},children:[s.jsx(i.Z,{className:"w-5 h-5"}),"Organisations"]})})]})}),s.jsx(x.Z,{active:p,visibilityDispatcher:b,orgId:e,prevValues:a.data,type:"UPDATE"}),s.jsx(z.Z,{onConfirm:v,active:y,visibilityDispatcher:j,matcher:`Delete ${a.data?.name}`,title:"Delete Organisation",text:"Organisation once deleted can not be retrieved."})]})}},63024:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(69224).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},38271:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(69224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},29927:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(25036);let r=(0,a(86843).createProxy)(String.raw`/Users/tejas/Documents/Eruva/Dashboard/containers/Organisation/index.tsx`),{__esModule:n,$$typeof:i}=r,o=r.default,l=({params:{orgId:e}})=>s.jsx(o,{orgId:e})}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[638,168,337,476,139,674,984,237,569,863],()=>a(81685));module.exports=s})();